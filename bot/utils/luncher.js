const d = E;
(function (O, B) {
  const w = E,
    A = O();
  while (!![]) {
    try {
      const s =
        (-parseInt(w("0x1e6")) / 0x1) * (-parseInt(w(0x1f6)) / 0x2) +
        (-parseInt(w("0x1d1")) / 0x3) * (parseInt(w("0x1c7")) / 0x4) +
        (parseInt(w("0x1d5")) / 0x5) * (parseInt(w("0x1d0")) / 0x6) +
        (-parseInt(w("0x1df")) / 0x7) * (parseInt(w(0x1ca)) / 0x8) +
        parseInt(w(0x1c1)) / 0x9 +
        -parseInt(w(0x1e9)) / 0xa +
        (-parseInt(w(0x1d7)) / 0xb) * (parseInt(w("0x1e2")) / 0xc);
      if (s === B) break;
      else A["push"](A["shift"]());
    } catch (L) {
      A["push"](A["shift"]());
    }
  }
})(Z, 0x711de);
const register = require(d(0x1e8)),
  logger = require(d(0x1f0)),
  input = require(d(0x1d6)),
  fs = require("fs"),
  path = require(d(0x1bd)),
  settings = require(d("0x1c2")),
  proxies = require(d("0x1e3")),
  { program, Option } = require(d(0x1f1)),
  { TelegramClient, client } = require(d("0x1bf")),
  Tapper = require(d("0x1fc")),
  { StringSession } = require(d(0x1ea)),
  logger2 = require("./TldLogger");
function Z() {
  const D = [
    "sessions",
    "3916945YcICQT",
    "input",
    "748HKcqpT",
    "1.0.0",
    "info",
    "cwd",
    "</lb>\x20sessions\x20|\x20<pi>",
    "isArray",
    "<la><b>",
    "message",
    "182mAhKWO",
    "trim",
    "value",
    "22476XcYKwu",
    "../config/proxies",
    "\x0a╔══╗\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20╔═══╗\x20\x20\x20\x20\x20\x20\x20\x20╔══╗\x20\x20\x20\x20\x20\x20╔╗\x20\x0a║╔╗║\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20║╔═╗║\x20\x20\x20\x20\x20\x20\x20\x20║╔╗║\x20\x20\x20\x20\x20╔╝╚╗\x0a║╚╝╚╗╔╗╔╗╔═╗\x20╔═╗\x20╔╗\x20╔╗║║\x20║║╔══╗╔══╗║╚╝╚╗╔══╗╚╗╔╝\x0a║╔═╗║║║║║║╔╗╗║╔╗╗║║\x20║║║╚═╝║║╔╗║║╔╗║║╔═╗║║╔╗║\x20║║\x20\x0a║╚═╝║║╚╝║║║║║║║║║║╚═╝║║╔═╗║║╚╝║║╚╝║║╚═╝║║╚╝║\x20║╚╗\x0a╚═══╝╚══╝╚╝╚╝╚╝╚╝╚═╗╔╝╚╝\x20╚╝║╔═╝║╔═╝╚═══╝╚══╝\x20╚═╝\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20╔═╝║\x20\x20\x20\x20\x20\x20║║\x20\x20║║\x20By\x20Freddy\x20Bots\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20╚══╝\x20\x20\x20\x20\x20\x20╚╝\x20\x20╚╝\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0aSelect\x20an\x20action:\x0a\x0a1.\x20Create\x20session\x0a2.\x20Run\x20bot\x0a\x20\x20\x20\x20\x20",
    "length",
    "100fjjsxr",
    "test",
    "../core/register",
    "6504830lUsyAs",
    "telegram/sessions",
    "start",
    "split",
    "join",
    "choices",
    "action",
    "./logger",
    "commander",
    "</b></la>\x20|\x20Invalid\x20session\x20data.\x20Create\x20a\x20new\x20one.",
    "readFileSync",
    "all",
    "log",
    "7710adxtAk",
    "map",
    "parse",
    "exit",
    "Enter\x20the\x20number\x20of\x20the\x20action\x20you\x20want\x20to\x20perform:\x20",
    "readdirSync",
    "../core/tapper",
    "Action\x20type",
    "Detected\x20<lb>",
    "path",
    "error",
    "telegram",
    "paragraph",
    "3020751HFhKxH",
    "../config/config",
    "sessionString",
    "endsWith",
    "next",
    "--action\x20<action>",
    "4CudqCB",
    "exports",
    "apiHash",
    "39208XsILMo",
    "text",
    ".session",
    "addOption",
    "</b></la>\x20|\x20Error:\x20",
    "API_ID",
    "6XMiCiN",
    "407787ZPtJVX",
    "Freddy\x20Bots",
    "apiId",
  ];
  Z = function () {
    return D;
  };
  return Z();
}
function E(O, B) {
  const A = Z();
  return (
    (E = function (s, L) {
      s = s - 0x1bd;
      let Q = A[s];
      return Q;
    }),
    E(O, B)
  );
}
class Luncher {
  #start_text;
  constructor() {
    const q = d;
    this.#start_text = q(0x1e4);
  }
  #printStartText() {
    const e = d;
    logger[e("0x1d9")](
      e("0x1fe") +
        this.#get_sessions()["length"] +
        e("0x1db") +
        (this.#get_proxies() && Array[e("0x1dc")](this.#get_proxies())
          ? this.#get_proxies()[e("0x1e5")]
          : 0x0) +
        "</pi>\x20proxies"
    ),
      logger[e("0x1c0")](
        "<ye><u><b>WARNING</b></u></ye>\x20<br\x20/>\x0a<b><bl>en:</bl></b>\x20NOT\x20FOR\x20SALE\x0a<b><bl>ru:</bl></b>\x20НЕ\x20ДЛЯ\x20ПРОДАЖИ\x0a<b><bl>es:</bl></b>\x20NO\x20VENTA\x0a<b><bl>fr:</bl></b>\x20PAS\x20À\x20VENDRE\x0a<b><bl>it:</bl></b>\x20NON\x20PER\x20VENDITA\x0a<b><bl>gh:</bl></b>\x20YƐN\x20TƆN\x0a\x0a<b>For\x20updates\x20and\x20more\x20bots\x20join\x20us:</b>\x20\x0a<la>https://t.me/freddy_bots</la>\x0a"
      ),
      console[e("0x1f5")](this.#start_text);
  }
  async ["process"]() {
    const l = d;
    let O;
    program[l(0x1cd)](new Option(l(0x1c6), l("0x1fd"))[l("0x1ee")](["1", "2"]))[
      "showHelpAfterError"
    ](!![]),
      program[l(0x1f8)]();
    const B = program["opts"]();
    O = B ? parseInt(B[l(0x1ef)]) : null;
    if (!O) {
      this.#printStartText();
      let A = "";
      while (!![]) {
        A = await input[l(0x1cb)](l(0x1fa));
        if (!A["trim"]()["match"](/^[1-2]$/))
          logger["warning"]("Action\x20must\x20be\x201\x20or\x202");
        else break;
      }
      O = parseInt(A[l("0x1e0")]());
    }
    if (O === 0x1) register[l("0x1eb")]();
    else {
      if (O === 0x2) {
        const s = await this.#get_tg_clients();
        await this.#run_tasks(s);
      }
    }
  }
  async #get_tg_clients() {
    const V = d,
      O = this.#get_sessions(),
      B = O[V("0x1f7")]((A) => {
        const c = V;
        try {
          const s = fs[c(0x1f3)](
            path[c(0x1ed)](process["cwd"](), "sessions", A + c("0x1cc")),
            "utf8"
          );
          if (!s) {
            logger[c("0x1be")](
              c("0x1dd") +
                A +
                "</b></la>\x20|\x20Session\x20is\x20empty\x20or\x20expired.\x20Create\x20a\x20new\x20one."
            );
            return;
          }
          const L = JSON[c("0x1f8")](s);
          (!settings[c(0x1cf)] || !settings["API_HASH"]) &&
            (logger[c("0x1be")](
              "API_ID\x20and\x20API_HASH\x20must\x20be\x20provided."
            ),
            process[c(0x1f9)](0x1));
          (!L["sessionString"] || !L["apiId"] || !L[c("0x1c9")]) &&
            (logger[c("0x1be")](
              c(0x1dd) +
                A +
                "</b></la>\x20|\x20Invalid\x20session\x20data.\x20Create\x20a\x20new\x20one."
            ),
            process["exit"](0x1));
          !/^\d+$/[c("0x1e7")](L[c(0x1d3)]) &&
            (logger[c(0x1be)](c("0x1dd") + A + c("0x1f2")),
            process["exit"](0x1));
          const Q = new StringSession(L[c(0x1c3)]),
            r = new TelegramClient(Q, L[c(0x1d3)], L[c(0x1c9)], {
              connectionRetries: 0x5,
              deviceModel: c("0x1d2"),
              appVersion: c(0x1d8),
              systemVersion: "1.0.0",
              langCode: "en",
              baseLogger: logger2,
            });
          return { tg_client: r, session_name: A };
        } catch (a) {
          logger[c("0x1be")]("<la><b>" + A + c(0x1ce) + a[c("0x1de")]);
        }
      });
    return B;
  }
  #get_sessions() {
    const N = d,
      O = path[N("0x1ed")](process[N(0x1da)](), N("0x1d4"));
    if (!fs["existsSync"](O)) return [];
    const B = fs[N(0x1fb)](O)[N(0x1f7)]((A) => {
      const o = N,
        s = A[o("0x1c4")](".session") ? A[o(0x1ec)](".")[0x0] : null;
      return s;
    });
    return B;
  }
  #get_proxies() {
    if (!settings["USE_PROXY_FROM_FILE"]) return null;
    return proxies;
  }
  async #run_tasks(O) {
    const G = d,
      B = this.#get_proxies();
    let A = B ? B[Symbol["iterator"]]() : null;
    const s = O[G("0x1f7")](async (L) => {
      const u = G,
        Q = A ? A[u("0x1c5")]()[u("0x1e1")] : null;
      try {
        await new Tapper(L)["run"](Q);
      } catch (r) {
        logger["error"](
          "Error\x20in\x20task\x20for\x20tg_client:\x20" + r[u("0x1de")]
        );
      }
    });
    await Promise[G("0x1f4")](s);
  }
}
const luncher = new Luncher();
module[d(0x1c8)] = luncher;
